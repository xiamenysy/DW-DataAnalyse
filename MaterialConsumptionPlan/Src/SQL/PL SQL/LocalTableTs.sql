Select MATERIALID, SALES_ORG, CURRENT_SERIES, DIRECT_SHIP_PLANT from INV_SAP_PP_MVKE where MATERIALID = '1756-N2 B';



SELECT * FROM INV_SAP_VENDOR_PLANT_INFO WHERE MATERIALID = '100-C60DJ00 B';

SELECT * FROM INV_SAP_PP_FRCST_PBIM_PBED WHERE MATERIALID = '1756-N2 B';

SELECT MATERIALID,SALES_ORG,D_CHAIN_BLK,CURRENT_SERIES,DIRECT_SHIP_PLANT FROM INV_SAP_PP_MVKE WHERE DIRECT_SHIP_PLANT = '1180' and SALES_ORG = '5007';


SELECT * FROM INV_SAP_VENDOR_PLANT_INFO WHERE MATERIALID = '440T-MRPSE11DA/B';

------------------------------VIEW TEST-------------------------------
select * from view_ctmp_mvk where MATERIALID = '1756-N2 B';
select * from CATALOG_TMP where MATERIALID = '1756-N2 B';

select * from INV_SAP_PP_OPTIMIZATION where MATERIALID = '1756-N2 B';

Select MATERIALID, SALES_ORG, CURRENT_SERIES, DIRECT_SHIP_PLANT from INV_SAP_PP_MVKE where MATERIALID = '1756-N2 B';



  
-- How to use pl sql run all item fc number. And update by week? 
-- Try and use create table...
  SELECT FPP.MATERIALID
    ||'-'
    ||FPP.PLANTID                     AS ID,
    FPP.MATERIALID                    AS MATERIALID,
    FPP.PLANTID                       AS PLANTID,
	ROUND(SUM(FPP.PLNMG_PLANNEDQUANTITY)/13, 2) AS FORECAST_QTY,
    FPP.MEINS_BASEUNITOFMEASURE       AS UNIT,
    FPP.VERSBP_VERSION                AS VERSBP_VERSION
  FROM INV_SAP_PP_FRCST_PBIM_PBED FPP
  WHERE (FPP.PDATU_DELIV_ORDFINISHDATE BETWEEN TO_CHAR(sysdate) AND TO_CHAR(sysdate + 91))
  AND VERSBP_VERSION = '55'
  AND MATERIALID in (select CATALOG_TMP.MATERIALID from CATALOG_TMP) group by FPP.MATERIALID, FPP.MATERIALID, FPP.PLANTID, FPP.MEINS_BASEUNITOFMEASURE, FPP.VERSBP_VERSION;


SELECT POP.MATERIALID
    ||'-'
    ||POP.PLANTID                  AS ID,
    POP.MATERIALID                 AS ITEM,
    POP.PLANTID                    AS PLANT,
 POP.PDT                        AS LEAD_TIME,
    POP.SAFETY_STK                 AS SAFETY_STOCK,
    POP.STRATEGY_GRP               AS STRATEGY_GRP,
    POP.OH_QTY                     AS ON_HAND_STOCK,
    POP.ANNUAL52_PLANT_VOLUMNE_QTY AS ANNUAL52,
    POP.AVG52_USAGE_QTY            AS AVG52_USAGE_QTY,
    POP.AVG26_USAGE_QTY            AS AVG26_USAGE_QTY,
    POP.AVG13_USAGE_QTY            AS AVG13_USAGE_QTY
  FROM INV_SAP_PP_OPTIMIZATION POP;
  
SELECT MATERIALID AS MATERIALID,
PLANTID AS PLANT,
STRATEGY_GRP AS STRATEGY_GRP,
EXPECTED_SHIP_PLANT_1 AS VENDOR
FROM INV_SAP_VENDOR_PLANT_INFO WHERE MATERIALID  = '1756-N2 B';

SELECT *
FROM INV_SAP_VENDOR_PLANT_INFO WHERE MATERIALID  = '1756-N2 B';

---------------------------------------JOIN VENDOR AND CURRENT SERIAL------------------------------
SELECT * FROM VIEW_INV_CTMP_MVK WHERE MATERIAL = '1756-N2 B';

SELECT DISTINCT VI.ID, VI.CUSTOMER_PLANT,VM.MATERIAL,VM.CATALOGNODASH,VM.CATALOGBYDASH,VM.CURRENT_SERIES,VI.STRATEGY_GRP,VI.VENDOR
FROM VIEW_INV_CTMP_MVK VM,
  VIEW_INV_VENDOR_INFO VI
WHERE VM.ID = VI.ID AND VM.MATERIAL = '1756-N2 B';


SELECT * FROM VIEW_REPORT_ITEM_PLAN WHERE MATERIAL = '440T-MRPSE11DA/B';

SELECT * FROM VIEW_INV_FRCST_PBIM_CACL WHERE MATERIAL = '440T-MRPSE11DA/B';



SELECT VIO.ID AS ID,
VIO.ITEM AS MATERIAL,
VIO.PLANT AS PLANT,
VIO.LEAD_TIME AS LEAD_TIME,
ROUND(VIO.LEAD_TIME/7, 2) AS LEAD_TIME_BYWEEK,
VIO.ON_HAND_STOCK AS ON_HAND_STOCK,
VIO.SAFETY_STOCK AS SAFETY_STOCK,
VIO.STRATEGY_GRP AS STRATEGY_GRP,
VIO.ANNUAL52 AS ANNUAL52,
VIO.AVG52_USAGE_QTY            AS AVG52_USAGE_QTY,
VIO.AVG26_USAGE_QTY            AS AVG26_USAGE_QTY,
VIO.AVG13_USAGE_QTY            AS AVG13_USAGE_QTY,
VIFPC.FORECAST_QTY AS FORECAST_QTY,
VIFPC.UNIT AS UNIT,
VIFPC.VERSBP_VERSION AS VERSBP_VERSION
FROM VIEW_INV_OPTIMIZATION VIO,VIEW_INV_FRCST_PBIM_CACL VIFPC WHERE VIO.ID = VIFPC.ID;

--------------------------------------------Report------------------------------
SELECT VIOF.ID AS ID,
VIOF.MATERIAL AS MATERIAL,
VIVC.CATALOGNODASH AS CATALOG_NODASH,
    VIVC.CATALOGBYDASH AS CATALOG_BYDASH,
    VIVC.CURRENT_SERIES AS CURRENT_SERIES,
    VIVC.STRATEGY_GRP AS STRATEGY_GRP,
    VIOF.PLANT AS CUSTOMER_PLANT,
    VIVC.VENDOR AS VENDOR,
VIOF.LEAD_TIME AS LEAD_TIME,
ROUND(VIOF.LEAD_TIME/7, 2) AS LEAD_TIME_BYWEEK,
VIOF.ON_HAND_STOCK AS ON_HAND_STOCK,
VIOF.SAFETY_STOCK AS SAFETY_STOCK,
VIOF.STRATEGY_GRP AS STRATEGY_GRP,
VIOF.ANNUAL52 AS ANNUAL52,
VIOF.AVG52_USAGE_QTY            AS AVG52_USAGE_QTY,
VIOF.AVG26_USAGE_QTY            AS AVG26_USAGE_QTY,
VIOF.AVG13_USAGE_QTY            AS AVG13_USAGE_QTY,
VIOF.FORECAST_QTY AS FORECAST_QTY,
VIOF.UNIT AS UNIT,
VIOF.VERSBP_VERSION AS VERSBP_VERSION
FROM VIEW_INV_OP_FCST VIOF, VIEW_INV_VEN_CM VIVC WHERE VIOF.ID = VIVC.ID and VIOF.MATERIAL = '1756-N2 B';


CREATE TABLE TABLE_REPORT_ITEM_PLAN
AS SELECT VIOF.ID AS ID,
VIOF.MATERIAL AS MATERIAL,
VIVC.CATALOGNODASH AS CATALOG_NODASH,
    VIVC.CATALOGBYDASH AS CATALOG_BYDASH,
    VIVC.CURRENT_SERIES AS CURRENT_SERIES,
    VIVC.STRATEGY_GRP AS STRATEGY_GRP,
    VIOF.PLANT AS CUSTOMER_PLANT,
    VIVC.VENDOR AS VENDOR,
VIOF.LEAD_TIME AS LEAD_TIME,
ROUND(VIOF.LEAD_TIME/7, 2) AS LEAD_TIME_BYWEEK,
VIOF.ON_HAND_STOCK AS ON_HAND_STOCK,
VIOF.SAFETY_STOCK AS SAFETY_STOCK,
VIOF.ANNUAL52 AS ANNUAL52,
VIOF.AVG52_USAGE_QTY            AS AVG52_USAGE_QTY,
VIOF.AVG26_USAGE_QTY            AS AVG26_USAGE_QTY,
VIOF.AVG13_USAGE_QTY            AS AVG13_USAGE_QTY,
VIOF.FORECAST_QTY AS FORECAST_QTY,
VIOF.UNIT AS UNIT,
VIOF.VERSBP_VERSION AS VERSBP_VERSION
FROM VIEW_INV_OP_FCST VIOF, VIEW_INV_VEN_CM VIVC WHERE VIOF.ID = VIVC.ID;


SELECt * FROM TABLE_REPORT_ITEM_PLAN where MATERIAL = 'PN-171276';






select * from DWQ$LIBRARIAN.INV_SAP_BOM_EXPLODE_PREF_B where COMPONENT_BOM_PLANTID = '1080';


select * from DWQ$LIBRARIAN.DWQ_SHIP_GBBB_BILLING_ALL where PROD_ID_NO = '1756-N2' and BUSI_DTE > '1-jan-2013';















